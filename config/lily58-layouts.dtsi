#include <physical_layouts.dtsi>

/ {
    layout_0: layout_0 {
        compatible = "zmk,physical-layout";
        display-name = "LILY58 Layout";

        kscan = <&kscan0>;
        transform = <&default_transform>;

        keys
            // Fila 0
            = <&key_physical_attrs 100 100    0  105    0    0    0> // 0
            , <&key_physical_attrs 100 100  100  105    0    0    0> // 1
            , <&key_physical_attrs 100 100  200   35    0    0    0> // 2
            , <&key_physical_attrs 100 100  300    0    0    0    0> // 3
            , <&key_physical_attrs 100 100  400   30    0    0    0> // 4
            , <&key_physical_attrs 100 100  500   45    0    0    0> // 5
            
            , <&key_physical_attrs 100 100  900   45    0    0    0> // 6
            , <&key_physical_attrs 100 100 1000   30    0    0    0> // 7
            , <&key_physical_attrs 100 100 1100    0    0    0    0> // 8
            , <&key_physical_attrs 100 100 1200   35    0    0    0> // 9
            , <&key_physical_attrs 100 100 1300  105    0    0    0> // 10
            , <&key_physical_attrs 100 100 1400  105    0    0    0> // 11

            // Fila 1
            , <&key_physical_attrs 100 100    0  205    0    0    0> // 12
            , <&key_physical_attrs 100 100  100  205    0    0    0> // 13
            , <&key_physical_attrs 100 100  200  135    0    0    0> // 14
            , <&key_physical_attrs 100 100  300  100    0    0    0> // 15
            , <&key_physical_attrs 100 100  400  130    0    0    0> // 16
            , <&key_physical_attrs 100 100  500  145    0    0    0> // 17
            
            , <&key_physical_attrs 100 100  900  145    0    0    0> // 18
            , <&key_physical_attrs 100 100 1000  130    0    0    0> // 19
            , <&key_physical_attrs 100 100 1100  100    0    0    0> // 20
            , <&key_physical_attrs 100 100 1200  135    0    0    0> // 21
            , <&key_physical_attrs 100 100 1300  205    0    0    0> // 22
            , <&key_physical_attrs 100 100 1400  205    0    0    0> // 23

            // Fila 2
            , <&key_physical_attrs 100 100    0  305    0    0    0> // 24
            , <&key_physical_attrs 100 100  100  305    0    0    0> // 25
            , <&key_physical_attrs 100 100  200  235    0    0    0> // 26
            , <&key_physical_attrs 100 100  300  200    0    0    0> // 27
            , <&key_physical_attrs 100 100  400  230    0    0    0> // 28
            , <&key_physical_attrs 100 100  500  245    0    0    0> // 29
            
            , <&key_physical_attrs 100 100  900  245    0    0    0> // 30
            , <&key_physical_attrs 100 100 1000  230    0    0    0> // 31
            , <&key_physical_attrs 100 100 1100  200    0    0    0> // 32
            , <&key_physical_attrs 100 100 1200  235    0    0    0> // 33
            , <&key_physical_attrs 100 100 1300  305    0    0    0> // 34
            , <&key_physical_attrs 100 100 1400  305    0    0    0> // 35

            // Fila 3
            , <&key_physical_attrs 100 100    0  405    0    0    0> // 36
            , <&key_physical_attrs 100 100  100  405    0    0    0> // 37
            , <&key_physical_attrs 100 100  200  335    0    0    0> // 38
            , <&key_physical_attrs 100 100  300  300    0    0    0> // 39
            , <&key_physical_attrs 100 100  400  330    0    0    0> // 40
            , <&key_physical_attrs 100 100  500  345    0    0    0> // 41
            
            , <&key_physical_attrs 100 100  900  345    0    0    0> // 42
            , <&key_physical_attrs 100 100 1000  330    0    0    0> // 43
            , <&key_physical_attrs 100 100 1100  300    0    0    0> // 44
            , <&key_physical_attrs 100 100 1200  335    0    0    0> // 45
            , <&key_physical_attrs 100 100 1300  405    0    0    0> // 46
            , <&key_physical_attrs 100 100 1400  405    0    0    0> // 47

            // Pulgares
            , <&key_physical_attrs 100 100  250  440    0    0    0> // 48
            , <&key_physical_attrs 100 100  350  440    0    0    0> // 49
            , <&key_physical_attrs 100 100  450  450    0    0    0> // 50
            , <&key_physical_attrs 100 100  550  460  2600   0  460> // 51
            , <&key_physical_attrs 100 100  560  350    0    0    0> // 52

            , <&key_physical_attrs 100 100  940  350    0    0    0> // 53
            , <&key_physical_attrs 100 100  950  460 (0 - 2600) 0 460> // 54 - Cambiado a expresión matemática
            , <&key_physical_attrs 100 100 1050  450    0    0    0> // 55
            , <&key_physical_attrs 100 100 1150  440    0    0    0> // 56
            , <&key_physical_attrs 100 100 1250  440    0    0    0> // 57
            ;
    };

    LILY58_position_map {
        compatible = "zmk,physical-layout-position-map";
        complete;
        LAYOUT {
            physical-layout = <&layout_0>;
            positions
                = < 0  1  2  3  4  5    6  7  8  9 10 11>
                , <12 13 14 15 16 17   18 19 20 21 22 23>
                , <24 25 26 27 28 29   30 31 32 33 34 35>
                , <36 37 38 39 40 41   42 43 44 45 46 47>
                , <      48 49 50 51 52 53 54 55 56 57   >;
        };
    };
};